{"version":3,"file":"cookieConsent-bf26f517.js","sources":["../../../src/js/cookie-consent.js"],"sourcesContent":["document.addEventListener('afterBlitzInject', function (event) {\n    if(event.detail.element.querySelector(\"#elc-cookie-consent\")) {\n        /*\n         * addEventListner: For all major browsers, except IE 8 and earlier\n         * attachEvent:     For IE 8 and earlier versions\n         */\n        let detailLink = document.getElementById(\"elc-detail-link\");\n        if (detailLink !== null) {\n            if (detailLink.addEventListener) {\n                detailLink.addEventListener(\"click\", toggleExpand);\n            } else if (detailLink.attachEvent) {\n                detailLink.attachEvent(\"onclick\", toggleExpand);\n            }\n        }\n\n        let hideDetailLink = document.getElementById(\"elc-hide-detail-link\");\n        if (hideDetailLink !== null) {\n            if (hideDetailLink.addEventListener) {\n                hideDetailLink.addEventListener(\"click\", toggleExpand);\n            } else if (hideDetailLink.attachEvent) {\n                hideDetailLink.attachEvent(\"onclick\", toggleExpand);\n            }\n        }\n\n        let saveLink = document.getElementById(\"elc-save-link\");\n        if (saveLink !== null) {\n            if (saveLink.addEventListener) {\n                saveLink.addEventListener(\"click\", submitConsent);\n            } else if (saveLink.attachEvent) {\n                saveLink.attachEvent(\"onclick\", submitConsent);\n            }\n        }\n\n        let acceptLink = document.getElementById(\"elc-accept-link\");\n        if (acceptLink !== null) {\n            if (acceptLink.addEventListener) {\n                acceptLink.addEventListener(\"click\", submitConsent);\n            } else if (acceptLink.attachEvent) {\n                acceptLink.attachEvent(\"onclick\", submitConsent);\n            }\n        }\n\n\n        let acceptAllLink = document.getElementById(\"elc-accept-all-link\");\n        if (acceptAllLink !== null) {\n            if (acceptAllLink.addEventListener) {\n                acceptAllLink.addEventListener(\"click\", submitAllConsent);\n            } else if (acceptAllLink.attachEvent) {\n                acceptAllLink.attachEvent(\"onclick\", submitAllConsent);\n            }\n        }\n\n        let tabLink = document.getElementById(\"elc-tab-link\");\n        if (tabLink !== null) {\n            if (tabLink.addEventListener) {\n                tabLink.addEventListener(\"click\", toggleTab);\n            } else if (tabLink.attachEvent) {\n                tabLink.attachEvent(\"onclick\", toggleTab);\n            }\n        }\n\n        addWindowObject();\n    }\n});\n\nfunction submitConsent(event) {\n\n    event.preventDefault();\n\n    let form = document.querySelector('#elc-cookie-consent-form');\n    let data = serialize(form);\n\n    document.getElementById(\"elc-cookie-consent\").classList.toggle('elc-hidden');\n    let cookieTab = document.getElementById(\"elc-cookie-tab\");\n    if(typeof cookieTab !== 'undefined' && cookieTab !== null) document.getElementById(\"elc-cookie-tab\").classList.toggle('elc-hidden');\n\n    let xhr = new XMLHttpRequest();\n    xhr.open('POST', form.dataset.url);\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    xhr.send(data);\n\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            addWindowObject()\n            if (xhr.status !== 200) console.log('Error: ' + xhr.status);\n            else {\n                document.querySelectorAll(\".elc-cookie-checkbox\").forEach(function(item) {\n                    setCookie('cookie-consent-' + item.name, item.checked ? \"on\" : \"off\", 365);\n                });\n\n                if (form.hasAttribute(\"data-refresh\") && form.dataset.refresh === \"true\" && form.hasAttribute(\"data-refreshtime\")) {\n                    refresh(form.dataset.refreshtime)\n                }\n            }\n        }\n    }\n}\nwindow.submitConsent = submitConsent;\n\nfunction submitAllConsent(event) {\n\n    event.preventDefault();\n\n    let form = document.querySelector('#elc-cookie-consent-form');\n\n    for (let i = 0; i < form.elements.length; i++ ) {\n\n        if (form.elements[i].type == 'checkbox') {\n\n            if (form.elements[i].checked == false) {\n                form.elements[i].checked = true;\n            }\n        }\n    }\n\n    let data = serialize(form);\n    document.getElementById(\"elc-cookie-consent\").classList.toggle('elc-hidden');\n    let cookieTab = document.getElementById(\"elc-cookie-tab\");\n    if(typeof cookieTab !== 'undefined' && cookieTab !== null) document.getElementById(\"elc-cookie-tab\").classList.toggle('elc-hidden');\n\n    let xhr = new XMLHttpRequest();\n    xhr.open('POST', form.dataset.url);\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    xhr.send(data.concat('&acceptAll=true'));\n\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            if (xhr.status !== 200) console.log('Error: ' + xhr.status);\n            else if (form.hasAttribute(\"data-refresh\") && form.dataset.refresh === \"true\" && form.hasAttribute(\"data-refreshtime\")) {\n                refresh(form.dataset.refreshtime)\n            }\n        }\n    }\n}\nwindow.submitAllConsent = submitAllConsent;\n\n\nfunction refresh(ms) {\n    setTimeout(function() {\n        location.reload();\n    }, ms);\n}\nwindow.refresh = refresh;\n\nfunction toggleExpand(event)\n{\n    event.preventDefault();\n    document.getElementById(\"elc-cookie-consent\").classList.toggle('elc-fullwidth');\n    document.getElementById(\"elc-cookie-consent\").classList.toggle('elc-small');\n}\nwindow.toggleExpand = toggleExpand;\n\nfunction toggleTab(event)\n{\n    event.preventDefault();\n    document.getElementById(\"elc-cookie-consent\").classList.toggle('elc-hidden');\n    document.getElementById(\"elc-cookie-tab\").classList.toggle('elc-hidden');\n\n    document.getElementById(\"elc-cookie-consent\").classList.add('elc-fullwidth');\n    document.getElementById(\"elc-cookie-consent\").classList.remove('elc-small');\n}\nwindow.toggleTab = toggleTab;\n\nfunction addWindowObject()\n{\n    let form = document.querySelector('#elc-cookie-consent-form');\n    if (typeof form.dataset.show !== 'undefined')\n    {\n        let xhr = new XMLHttpRequest();\n        xhr.open('GET', form.dataset.show);\n        xhr.send();\n\n        xhr.onreadystatechange = function () {\n            if (xhr.readyState === 4) {\n                if (xhr.status !== 200) {\n                    console.log('Error: ' + xhr.status);\n                    window.ccc = {}\n                }\n                else {\n                    if(xhr.response === 'null') {\n                        window.ccc = {}\n                    }\n                    else window.ccc = JSON.parse(xhr.response)\n                }\n            }\n        }\n    }\n}\nwindow.addWindowObject = addWindowObject;\n\n/*!\n * Serialize all form data into a query string\n * (c) 2018 Chris Ferdinandi, MIT License, https://gomakethings.com\n * @param  {Node}   form The form to serialize\n * @return {String}      The serialized form data\n */\nvar serialize = function (form) {\n\n    // Setup our serialized data\n    var serialized = [];\n\n    // Loop through each field in the form\n    for (var i = 0; i < form.elements.length; i++) {\n\n        var field = form.elements[i];\n\n        // Don't serialize fields without a name, submits, buttons, file and reset inputs, and disabled fields\n        if (!field.name || field.disabled || field.type === 'file' || field.type === 'reset' || field.type === 'button') continue;\n\n        // If a multi-select, get all selections\n        if (field.type === 'select-multiple') {\n            for (var n = 0; n < field.options.length; n++) {\n                if (!field.options[n].selected) continue;\n                serialized.push(encodeURIComponent(field.name) + \"=\" + encodeURIComponent(field.options[n].value));\n            }\n        }\n\n        // Convert field data to a query string\n        else if ((field.type !== 'checkbox' && field.type !== 'radio') || field.checked) {\n            serialized.push(encodeURIComponent(field.name) + \"=\" + encodeURIComponent(field.value));\n        }\n    }\n\n    return serialized.join('&');\n\n};\nwindow.serialize = serialize;\n\nfunction setCookie(cname, cvalue, exdays) {\n    const d = new Date();\n    d.setTime(d.getTime() + (exdays*24*60*60*1000));\n    let expires = \"expires=\"+ d.toUTCString();\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n}"],"names":["__vite_legacy_guard","g","event","detailLink","toggleExpand","hideDetailLink","saveLink","submitConsent","acceptLink","acceptAllLink","submitAllConsent","tabLink","toggleTab","addWindowObject","form","data","serialize","cookieTab","xhr","item","setCookie","refresh","i","ms","serialized","field","cname","cvalue","exdays","d","expires"],"mappings":"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"}